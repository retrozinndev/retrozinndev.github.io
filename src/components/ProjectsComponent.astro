---
import type { Repository } from "../scripts/repos";
import ProjectCard from "./ProjectCard.astro";

interface Props {
    projects: Array<Repository>;
}

const { projects } = Astro.props;
---

<div class="projects"> {
    projects.sort((pja, pjb) => pjb.stargazers_count - pja.stargazers_count).map(project => 
        <div class="item">
            <ProjectCard title={project.name} 
              description={project.description}
              href={project.html_url}
              developer={project.owner.login}
              icon={project.owner.avatar_url}
              stars={project.stargazers_count}
            />
        </div>
    )
} </div>

<style lang="scss">
    
    @use "../styles/colors";

    .projects {
        display: flex;
        flex-wrap: wrap;
        width: 100%;
        height: 100%;

        & .item {
            width: 48%;
            display: flex;
            overflow: hidden;
            border-radius: 16px;
            margin: 4px;
            transition: 200ms ease-in;

            &:hover {
                box-shadow: 0px 5px 10px 1px rgba(0, 0, 0, .5);
                transform: translateY(-2px);
            }
        }
    }

    body.light .projects .item:hover {
        box-shadow: 0px 10px 25px .05em rgba(100, 100, 100, .5);
    }

    @media screen and (max-width: 700px) {
        .projects {
            display: flex;
            width: 100%;

            & .item {
                width: 100%;
                margin: 0;
                margin-block: 4px;
            }
        }
    }
</style>
