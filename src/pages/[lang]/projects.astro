---
export { getStaticPaths } from "../../i18n/route.ts";

import ProjectsComponent from "../../components/ProjectsComponent.astro";
import PageLayout from "../../layouts/PageLayout.astro";
import { useTranslations } from "../../i18n/utils";
import { getRepositories } from "../../scripts/repos";


const tr = useTranslations(Astro.params.lang as never);
const repos = await getRepositories(undefined, {
    filterArchived: true,
    orderByMostStarred: true
});
---

<PageLayout title="retrozinndev's Projects" maxWidth="90em">
    <h1>{ tr("projects.title") }</h1>
    <p>
        { tr("projects.description") } 
        <a rel="_blank" href="https://github.com/retrozinndev?tab=repositories">GitHub</a>.
    </p>
    <div class="projects">
        <ProjectsComponent projects={repos} />
    </div>

    <style>
        .projects {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            max-width: 100%;
        }

        @media screen and (max-width:700px) {
            .projects {
                display: inline-block;
            }
        }
    
    </style>

</PageLayout>

